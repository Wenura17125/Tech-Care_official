# ğŸš€ TechCare Auto-Deploy Setup Guide

> **Status**: Automatic deployment is now configured!  
> **Last Updated**: 2026-01-13

---

## âš¡ How It Works

When you push changes to the `main` branch:

```
ğŸ“ You Push Changes â†’ ğŸ”„ GitHub Actions â†’ ğŸ”¨ npm run build â†’ ğŸš€ Deploy to Netlify
```

### Pipeline Flow

| Step | Action | Description |
|------|--------|-------------|
| 1ï¸âƒ£ | **Push to GitHub** | Any push to `main` triggers the workflow |
| 2ï¸âƒ£ | **Build & Test** | `npm ci` + `npm run build` with env variables |
| 3ï¸âƒ£ | **Deploy** | Automatic production deployment to Netlify |
| 4ï¸âƒ£ | **Status** | Commit status updated with deploy result |

---

## ğŸ” Required GitHub Secrets

You MUST configure these secrets in your GitHub repository settings:

### Navigate to:
**Repository â†’ Settings â†’ Secrets and variables â†’ Actions â†’ New repository secret**

| Secret Name | Where to Get It | Required |
|-------------|-----------------|----------|
| `NETLIFY_AUTH_TOKEN` | Netlify â†’ User Settings â†’ Applications â†’ Personal Access Tokens | âœ… Yes |
| `NETLIFY_SITE_ID` | Netlify â†’ Site Settings â†’ General â†’ Site ID | âœ… Yes |
| `VITE_SUPABASE_URL` | Supabase Dashboard â†’ Settings â†’ API â†’ Project URL | âœ… Yes |
| `VITE_SUPABASE_ANON_KEY` | Supabase Dashboard â†’ Settings â†’ API â†’ anon public key | âœ… Yes |
| `VITE_API_URL` | Your backend API URL (e.g., https://your-api.vercel.app) | âš ï¸ If using backend |

---

## ğŸ“‹ Step-by-Step Setup

### Step 1: Get Netlify Auth Token
1. Go to [Netlify User Settings](https://app.netlify.com/user/applications)
2. Under **Personal access tokens**, click **New access token**
3. Give it a name like `GitHub Actions - TechCare`
4. Copy the token (you won't see it again!)
5. Add to GitHub secrets as `NETLIFY_AUTH_TOKEN`

### Step 2: Get Netlify Site ID
1. Go to your Netlify site dashboard
2. Click **Site settings**
3. Under **General** â†’ **Site details**, find the **Site ID**
4. It looks like: `a1b2c3d4-e5f6-7890-abcd-ef1234567890`
5. Add to GitHub secrets as `NETLIFY_SITE_ID`

### Step 3: Add Supabase Secrets
1. Go to your [Supabase Dashboard](https://supabase.com/dashboard/project/_/settings/api)
2. Copy the **Project URL** â†’ add as `VITE_SUPABASE_URL`
3. Copy the **anon public key** â†’ add as `VITE_SUPABASE_ANON_KEY`

---

## ğŸ¯ Quick Deploy Methods

### Method 1: Using Git (Recommended)
```bash
git add .
git commit -m "Your commit message"
git push origin main
```

### Method 2: Using Auto-Sync Script (Windows)
```cmd
scripts\auto-sync.bat
```
This script:
- Stages all changes
- Creates auto-commit with timestamp
- Pulls remote changes
- Pushes to GitHub (triggers deploy)

### Method 3: Using VS Code
1. Stage changes in Source Control panel
2. Commit with message
3. Push to origin

---

## ğŸ” Monitoring Deploys

### GitHub Actions
- Go to **Actions** tab in your repository
- Find the running/completed workflow
- Check logs for any errors

### Netlify Dashboard
- Visit [app.netlify.com](https://app.netlify.com)
- Your site: [techcare-official-new.netlify.app](https://techcare-official-new.netlify.app)
- Check **Deploys** tab for history

---

## âš ï¸ Troubleshooting

### Build Fails
```
âŒ npm run build fails
```
**Solution**: Check if you have all environment variables set in GitHub Secrets

### Deploy Fails
```
âŒ NETLIFY_AUTH_TOKEN is missing
```
**Solution**: Add the Netlify personal access token to GitHub secrets

### Timeout Issues
```
âŒ Deployment timeout
```
**Solution**: Current timeout is 5 minutes. If builds are larger, increase in workflow.

---

## ğŸŒ Live URLs

| Environment | URL |
|-------------|-----|
| **Production** | https://techcare-official-new.netlify.app |
| **PR Previews** | Auto-generated for each pull request |

---

## ğŸ“ Related Files

| File | Purpose |
|------|---------|
| `.github/workflows/main.yml` | CI/CD pipeline configuration |
| `netlify.toml` | Netlify build settings |
| `scripts/auto-sync.bat` | Quick push script for Windows |

---

## âœ… Verification Checklist

- [ ] `NETLIFY_AUTH_TOKEN` added to GitHub secrets
- [ ] `NETLIFY_SITE_ID` added to GitHub secrets
- [ ] `VITE_SUPABASE_URL` added to GitHub secrets
- [ ] `VITE_SUPABASE_ANON_KEY` added to GitHub secrets
- [ ] Push to main branch triggers workflow
- [ ] Build completes successfully
- [ ] Deployment shows on Netlify

---

*ğŸ¤– Auto-generated by Antigravity AI*
